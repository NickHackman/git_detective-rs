<div align="center">
  <h1>Git Detective</h1>

  <p>
    <strong>A Library and CLI Application that aide in getting a clearer view of Git Repository contributions.</strong>
  </p>

  <p>
    <a href="https://travis-ci.org/NickHackman/git_detective-rs"><img src="https://travis-ci.org/NickHackman/git_detective-rs.svg?branch=development" alt="Build Status"/> </a>
    <a href='https://coveralls.io/github/NickHackman/git_detective-rs?branch=development'><img src='https://coveralls.io/repos/github/NickHackman/git_detective-rs/badge.svg?branch=development' alt='Coverage Status' /></a>

  </p>
</div>

This project isn't on [crates.io](https://crates.io/) yet because it's still under development.

```toml
[dependencies]
git_detective = {git = "https://github.com/NickHackman/git_detective-rs", branch = "development"}
```

## Why?

I've graded at [Ohio State University](https://www.osu.edu/) for [CSE 3901](https://cse.osu.edu/courses/project-design-development-and-documentation-web-applications-3901)
in which groups work together on projects, from web scraping to standing up a Rails server.

When grading for the course, we distribute a percentage of points based on the overall team coordination and distribution of work. This is great for preventing the one straggler that does nothing all semester, but this is by far the most time consuming in the terms of grading.

[git_detective-rs](https://github.com/NickHackman/git_detective-rs) attempts to resolve this problem by showing data of contributions breaking them down by language and type (Blank, Comment, or Code). In an attempt to prevent the ever malicious underachiever that makes 100 commits of single line comments.

## Documentation

Since `git_detective-rs` isn't on [crates.io](https://crates.io/), documentation must be generated by cargo locally.

```sh
$ git clone https://github.com/NickHackman/git_detective-rs
$ cd git_detective-rs/
$ cargo doc --open --no-deps
```

## Example

```rust
use std::fs::remove_dir_all;

use git_detective::{Error, GitDetective};

fn main() -> Result<(), Error> {
    let path = "serde-example";
    let serde_url = "https://github.com/serde-rs/serde.git";

    let mut gd = GitDetective::clone(serde_url, path, true)?;

    // NOTE: this operation is very expensive and can take up
    // to a few minutes for large repositories
    let contributions = gd.final_contributions()?;

    for contributor in contributions.contributors() {
      println!("{} contributed to the project", contributor);
    }
    println!("Total lines = {}", contributions.total_lines());

    // Clean up repository
    let _ = remove_dir_all(path);
    Ok(())
}
```

## Benchmarks

Benchmarks and pretty graphs needed

## License

The binary portion of this repository licensed under [GPLv3](./gd/LICENSE)

The library portion of this repository licensed under [MIT](./LICENSE)
